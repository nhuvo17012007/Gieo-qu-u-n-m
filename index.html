<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gieo Qu·∫ª ƒê·∫ßu Xu√¢n 2026 | Check VAR V·∫≠n M·ªánh</title>
    
    <!-- Google Fonts: Pacifico (Ti√™u ƒë·ªÅ) & Nunito (N·ªôi dung) -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --tet-red: #D72638;
            --tet-dark-red: #A01A28;
            --tet-gold: #FFD700;
            --tet-orange: #FF9F1C;
            --tet-cream: #FFF8E7;
            --card-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: radial-gradient(circle at center, var(--tet-red), var(--tet-dark-red));
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--tet-cream);
            overflow-x: hidden;
            position: relative;
        }

        /* Background Pattern (Hoa mai, hoa ƒë√†o nh·∫π) */
        body::before {
            content: "üå∏ üåº üßß üß® üå∏ üåº";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            font-size: 2rem;
            opacity: 0.05;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-content: space-around;
            z-index: -1;
            pointer-events: none;
            user-select: none;
        }

        /* Container ch√≠nh */
        .container {
            width: 90%;
            max-width: 450px;
            text-align: center;
            padding: 20px;
            z-index: 10;
        }

        /* Header */
        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 2.5rem;
            color: var(--tet-gold);
            text-shadow: 2px 2px 0px #8b0000;
            margin-bottom: 5px;
            animation: textSparkle 2s infinite alternate;
        }

        .subtitle {
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.2);
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid var(--tet-gold);
        }

        /* Form nh·∫≠p li·ªáu */
        .input-group {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            margin-bottom: 25px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            transition: transform 0.3s ease;
        }

        .input-group input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
            text-align: center;
            color: #333;
        }

        .input-group input:focus {
            border-color: var(--tet-red);
        }

        button.btn-gieo {
            background: linear-gradient(45deg, var(--tet-orange), var(--tet-red));
            color: white;
            border: none;
            padding: 12px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(215, 38, 56, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
            text-transform: uppercase;
        }

        button.btn-gieo:active {
            transform: scale(0.95);
        }

        button.btn-gieo:hover {
            box-shadow: 0 6px 20px rgba(215, 38, 56, 0.6);
        }

        /* 3D Card Flip Effect */
        .scene {
            width: 100%;
            height: 480px; /* Chi·ªÅu cao th·∫ª */
            perspective: 1000px;
            margin-top: 10px;
            display: none; /* ·∫®n m·∫∑c ƒë·ªãnh cho ƒë·∫øn khi b·∫•m */
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Hi·ªáu ·ª©ng n·∫£y nh·∫π */
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 4px solid var(--tet-gold);
        }

        /* M·∫∑t tr∆∞·ªõc (Front) */
        .card__face--front {
            background: linear-gradient(135deg, #ff0000, #990000);
            color: var(--tet-gold);
        }

        .front-decor {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: spinSlow 10s linear infinite;
        }

        .front-text {
            font-family: 'Pacifico', cursive;
            font-size: 2rem;
        }

        /* M·∫∑t sau (Back - K·∫øt qu·∫£) */
        .card__face--back {
            background: #fff;
            color: #333;
            transform: rotateY(180deg);
            padding: 20px;
            justify-content: flex-start;
            position: relative;
        }

        .card-header {
            font-weight: 800;
            color: var(--tet-red);
            font-size: 1.1rem;
            text-transform: uppercase;
            margin-bottom: 10px;
            border-bottom: 2px dashed var(--tet-gold);
            width: 100%;
            padding-bottom: 5px;
            text-align: center;
        }

        .user-name-display {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .fortune-status {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--tet-dark-red);
            margin: 10px 0;
            line-height: 1.3;
            text-align: center;
        }

        .stats-container {
            width: 100%;
            background: #f9f9f9;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.95rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            align-items: center;
        }

        .stat-label { font-weight: 600; color: #555; }
        .stat-value { font-weight: 800; color: var(--tet-orange); }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 2px;
        }
        .progress-fill {
            height: 100%;
            background: var(--tet-red);
            transition: width 1s ease-out;
        }

        .surprise-box {
            background: var(--tet-cream);
            border: 1px solid var(--tet-gold);
            padding: 8px;
            border-radius: 8px;
            width: 100%;
            text-align: center;
            margin-bottom: 10px;
        }
        .surprise-title { font-size: 0.8rem; color: #888; text-transform: uppercase; }
        .surprise-content { font-weight: bold; color: #333; font-size: 0.95rem; }

        .advice-quote {
            font-style: italic;
            font-size: 0.9rem;
            color: #555;
            margin-top: auto;
            margin-bottom: 15px;
            text-align: center;
            border-left: 3px solid var(--tet-gold);
            padding-left: 10px;
        }

        /* N√∫t Copy */
        .btn-copy {
            background: #333;
            color: #fff;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: background 0.3s;
            width: 100%;
            justify-content: center;
            margin-top: auto;
        }
        
        .btn-copy:hover {
            background: var(--tet-red);
        }

        /* Toast Message */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 16px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            opacity: 0;
            transition: opacity 0.5s, bottom 0.5s;
        }

        #toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
        }

        /* Canvas cho Confetti */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 99;
        }

        /* Animations */
        @keyframes textSparkle {
            from { text-shadow: 2px 2px 0px #8b0000; }
            to { text-shadow: 2px 2px 10px #FFD700; }
        }

        @keyframes spinSlow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @media (max-width: 400px) {
            h1 { font-size: 2rem; }
            .scene { height: 450px; }
            .fortune-status { font-size: 1.1rem; }
        }
        
        /* ·∫®n input khi ƒë√£ gieo xong (tr√™n mobile cho g·ªçn) */
        .container.has-result .input-group {
            display: none;
        }
        .container.has-result .scene {
            display: block;
        }
        
        .reset-btn-container {
            margin-top: 15px;
            display: none;
        }
        .container.has-result .reset-btn-container {
            display: block;
        }
        
        .btn-reset {
            background: transparent;
            color: white;
            border: 1px solid white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
        }

    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <div class="container" id="mainContainer">
        <h1>üîÆ Gieo Qu·∫ª 2026 üîÆ</h1>
        <div class="subtitle">Check VAR v·∫≠n m·ªánh ‚Äì Khai xu√¢n ƒë√≥n l·ªôc</div>

        <div class="input-group" id="inputSection">
            <input type="text" id="userName" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n..." autocomplete="off">
            <input type="number" id="birthYear" placeholder="NƒÉm sinh (VD: 2000)" max="2026">
            <button class="btn-gieo" onclick="castFortune()">üßß Gieo Qu·∫ª Ngay üßß</button>
        </div>

        <!-- 3D Card Scene -->
        <div class="scene" id="cardScene">
            <div class="card" id="card">
                <!-- M·∫∑t Tr∆∞·ªõc -->
                <div class="card__face card__face--front">
                    <div class="front-decor">‚òØÔ∏è</div>
                    <div class="front-text">B√≠nh Ng·ªç<br>2026</div>
                    <div style="font-size: 0.8rem; margin-top: 10px; opacity: 0.8;">Ch·∫°m ƒë·ªÉ l·∫≠t xem</div>
                </div>

                <!-- M·∫∑t Sau (K·∫øt Qu·∫£) -->
                <div class="card__face card__face--back" id="resultContent">
                    <div class="card-header">QU·∫∫ S·ªê <span id="fortuneId">#01</span></div>
                    <div class="user-name-display" id="displayUser">T√™n: ... (2000)</div>
                    
                    <div class="fortune-status" id="txtStatus">
                        ƒêang ƒë·ªçc t√≠n hi·ªáu v≈© tr·ª•...
                    </div>

                    <div class="stats-container">
                        <div class="stat-row">
                            <span class="stat-label">üíº S·ª± nghi·ªáp:</span>
                            <span class="stat-value" id="txtCareer">0%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" id="barCareer" style="width: 0%"></div></div>
                        
                        <div style="height: 10px;"></div>

                        <div class="stat-row">
                            <span class="stat-label">üíò T√¨nh c·∫£m:</span>
                            <span class="stat-value" id="txtLove">0%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" id="barLove" style="width: 0%"></div></div>
                    </div>

                    <div class="surprise-box">
                        <div class="surprise-title">‚ú® Bi·∫øn s·ªë b·∫•t ng·ªù ‚ú®</div>
                        <div class="surprise-content" id="txtSurprise">???</div>
                    </div>

                    <div class="advice-quote" id="txtAdvice">
                        "..."
                    </div>

                    <button class="btn-copy" onclick="copyFortune()">
                        üìã Copy Qu·∫ª
                    </button>
                </div>
            </div>
        </div>

        <div class="reset-btn-container">
            <button class="btn-reset" onclick="resetApp()">üîÑ Gieo l·∫°i qu·∫ª kh√°c</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast">ƒê√£ copy! Share ngay ƒë·ªÉ flex v·∫≠n may ƒë·∫ßu nƒÉm üòé‚ú®</div>

    <script>
        // --- 1. D·ªÆ LI·ªÜU QU·∫∫ (Data) ---
        const fortunes = [
            {
                status: "T√¢m b·∫•t bi·∫øn gi·ªØa d√≤ng ƒë·ªùi v·∫°n bi·∫øn",
                career: 85,
                love: 40,
                surprise: "T√¨m th·∫•y t·ªù 500k trong t√∫i √°o c≈©",
                advice: "Ng·ªìi im t√¨nh y√™u s·∫Ω t·ªõi (ho·∫∑c kh√¥ng)."
            },
            {
                status: "Ti·ªÅn v√†o nh∆∞ n∆∞·ªõc s√¥ng ƒê√†",
                career: 99,
                love: 20,
                surprise: "S·∫øp tƒÉng l∆∞∆°ng ho·∫∑c... tƒÉng vi·ªác",
                advice: "ƒê·ª´ng l√†m vi·ªác chƒÉm ch·ªâ, h√£y l√†m vi·ªác th√¥ng minh."
            },
            {
                status: "ƒê√†o hoa n·ªü r·ªô, coi ch·ª´ng v·ª° n·ª£ t√¨nh",
                career: 60,
                love: 100,
                surprise: "Ng∆∞·ªùi y√™u c≈© m·ªùi ƒëi ƒë√°m c∆∞·ªõi",
                advice: "Y√™u th√¨ y√™u kh√¥ng y√™u th√¨ y√™u."
            },
            {
                status: "Nh√¢n ph·∫©m c·ª±c ƒë·∫°i - Gacha l√† tr√∫ng",
                career: 75,
                love: 75,
                surprise: "Tr√∫ng Give away tr√™n Facebook",
                advice: "S·ªëng t·ªët tr·ªùi xanh s·∫Ω an b√†i."
            },
            {
                status: "Deadline d√≠ ch·∫°y t·ª•t qu·∫ßn",
                career: 95,
                love: 5,
                surprise: "ƒê∆∞·ª£c kh√°ch h√†ng donate tr√† s·ªØa",
                advice: "Ng·ªß ƒë·ªß 8 ti·∫øng l√† m·ªôt lo·∫°i xa x·ªâ ph·∫©m."
            },
            {
                status: "Over h·ª£p v·ªõi vi·ªác ƒëi du l·ªãch",
                career: 50,
                love: 90,
                surprise: "Book ƒë∆∞·ª£c v√© m√°y bay 0 ƒë·ªìng",
                advice: "ƒêi ƒë√¢u c≈©ng ƒë∆∞·ª£c, mi·ªÖn l√† c√≥ ti·ªÅn."
            },
            {
                status: "Tr·∫°ng th√°i: ƒêang ch·ªù t√≠n hi·ªáu v≈© tr·ª•",
                career: 88,
                love: 88,
                surprise: "Crush ch·ªß ƒë·ªông rep story",
                advice: "Ki√™n nh·∫´n l√† m·∫π c·ªßa th√†nh c√¥ng."
            },
            {
                status: "C·∫©n th·∫≠n b·ªã thao t√∫ng t√¢m l√Ω",
                career: 70,
                love: 30,
                surprise: "Ph√°t hi·ªán ra b√≠ m·∫≠t ƒë·ªông tr·ªùi c·ªßa b·∫°n th√¢n",
                advice: "Tin ng∆∞·ªùi v·ªôi v√£ l√† m·ªôt c√°i t·ªôi."
            },
            {
                status: "NƒÉm nay Flex nh·∫π, sang nƒÉm Flex to",
                career: 92,
                love: 60,
                surprise: "Viral tr√™n TikTok sau m·ªôt ƒë√™m",
                advice: "Khi√™m t·ªën l√† ƒë·ªânh cao c·ªßa s·ª± khoe khoang."
            },
            {
                status: "ƒê·ªôc l·∫≠p t·ª± do, ƒÉn no ng·ªß k·ªπ",
                career: 80,
                love: 0,
                surprise: "Gi·∫£m c√¢n th√†nh c√¥ng (trong m∆°)",
                advice: "·∫æ l√† xu th·∫ø, kh√¥ng ph·∫£i do kh√¥ng ai y√™u."
            }
        ];

        // --- 2. LOGIC CH√çNH (Main Logic) ---
        
        let currentFortune = {}; // L∆∞u qu·∫ª hi·ªán t·∫°i ƒë·ªÉ copy
        const soundEffect = new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU"); // Dummy short placeholder sound ref, will emulate logic

        // H√†m gi·∫£ l·∫≠p √¢m thanh "Ting" b·∫±ng Web Audio API ƒë·ªÉ kh√¥ng c·∫ßn file ngo√†i
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playTingSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(800, audioCtx.currentTime); // T·∫ßn s·ªë cao (Ting)
            oscillator.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
            
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.5);
        }

        function castFortune() {
            const name = document.getElementById('userName').value.trim();
            const year = document.getElementById('birthYear').value;

            // Validate
            if (!name || !year) {
                alert("B·∫°n ∆°i, nh·∫≠p t√™n v√† nƒÉm sinh ƒë·ªÉ v≈© tr·ª• nh·∫≠n di·ªán nh√©! ü•∫");
                return;
            }

            // UI Changes
            document.getElementById('mainContainer').classList.add('has-result');
            document.getElementById('displayUser').innerText = `Gia ch·ªß: ${name} - Sinh nƒÉm: ${year}`;

            // Random Logic
            const randomIndex = Math.floor(Math.random() * fortunes.length);
            const data = fortunes[randomIndex];
            currentFortune = { ...data, id: randomIndex + 1, name: name, year: year };

            // Fill Data (nh∆∞ng ch∆∞a hi·ªán ngay, ƒë·ª£i l·∫≠t)
            document.getElementById('fortuneId').innerText = `QU·∫∫ S·ªê #${randomIndex + 1}`;
            document.getElementById('txtStatus').innerText = data.status;
            document.getElementById('txtCareer').innerText = data.career + "%";
            document.getElementById('barCareer').style.width = data.career + "%";
            document.getElementById('txtLove').innerText = data.love + "%";
            document.getElementById('barLove').style.width = data.love + "%";
            document.getElementById('txtSurprise').innerText = data.surprise;
            document.getElementById('txtAdvice').innerText = `"${data.advice}"`;

            // Trigger Animation & Sound
            playTingSound();
            fireConfetti();

            // Flip Card after short delay
            setTimeout(() => {
                document.getElementById('card').classList.add('is-flipped');
            }, 500);
        }

        function copyFortune() {
            if (!currentFortune.status) return;

            const content = 
`üîÆ QU·∫∫ ƒê·∫¶U NƒÇM 2026 üîÆ
-----------------------
üë§ Gia ch·ªß: ${currentFortune.name} (${currentFortune.year})
‚ú® Status: ${currentFortune.status}
üíº S·ª± nghi·ªáp: ${currentFortune.career}%
üíò T√¨nh c·∫£m: ${currentFortune.love}%
üéÅ Bi·∫øn s·ªë: ${currentFortune.surprise}
üí° L·ªùi khuy√™n: "${currentFortune.advice}"
-----------------------
üëâ Gieo qu·∫ª t·∫°i: gieoque2026.vercel.app`; // Gi·∫£ l·∫≠p link

            navigator.clipboard.writeText(content).then(() => {
                showToast();
            }).catch(err => {
                // Fallback cho tr√¨nh duy·ªát c≈©
                const textarea = document.createElement('textarea');
                textarea.value = content;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById("toast");
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }

        function resetApp() {
            document.getElementById('card').classList.remove('is-flipped');
            document.getElementById('mainContainer').classList.remove('has-result');
            // Reset bars animation
            document.getElementById('barCareer').style.width = "0%";
            document.getElementById('barLove').style.width = "0%";
            
            // Clear inputs if wanted, or keep them
            // document.getElementById('userName').value = ''; 
        }

        // L·∫≠t b√†i khi click v√†o th·∫ª (n·∫øu ch∆∞a l·∫≠t)
        document.getElementById('card').addEventListener('click', function() {
            // N·∫øu ƒë√£ gieo (container c√≥ class has-result) m√† th·∫ª ch∆∞a l·∫≠t th√¨ l·∫≠t
            if(document.getElementById('mainContainer').classList.contains('has-result') && !this.classList.contains('is-flipped')) {
               this.classList.add('is-flipped');
            }
        });

        // --- 3. HI·ªÜU ·ª®NG PH√ÅO HOA (Simple Confetti Canvas) ---
        function fireConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const pieces = [];
            const numberOfPieces = 100;
            const colors = ['#FFD700', '#D72638', '#FFF', '#FF9F1C'];

            for (let i = 0; i < numberOfPieces; i++) {
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    w: Math.random() * 10 + 5,
                    h: Math.random() * 10 + 5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speed: Math.random() * 3 + 2,
                    rotation: Math.random() * 360
                });
            }

            let animationId;
            function update() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let activeCount = 0;

                pieces.forEach(p => {
                    p.y += p.speed;
                    p.rotation += p.speed;
                    
                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.rotation * Math.PI / 180);
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
                    ctx.restore();

                    if (p.y < canvas.height) activeCount++;
                });

                if (activeCount > 0) {
                    animationId = requestAnimationFrame(update);
                } else {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    cancelAnimationFrame(animationId);
                }
            }
            update();
        }
        
        // Resize canvas on window resize
        window.addEventListener('resize', () => {
            document.getElementById('confetti-canvas').width = window.innerWidth;
            document.getElementById('confetti-canvas').height = window.innerHeight;
        });

    </script>
</body>
</html>
